% !TEX program = lualatex
% \documentclass{article}
\documentclass[12pt]{amsart}
\usepackage{amsaddr}
\usepackage[draft,noshift]{marktext}
%% Remove draft for real article, put twocolumn for two columns
\usepackage[draft]{svmacro}

%% commentary bubble
% \newcommand{\SV}[2][]{\sidenote[colback=green!10]{\textbf{SV\xspace #1:} #2}}
\newcommand{\AB}[2][]{\sidenote[colback=teal!10]{\textbf{AB\xspace #1:} #2}}
\usepackage{cancel}
\renewcommand{\CancelColor}{\color{red}}

%% ---- Set up paper margin ---- %%
%\usepackage[a4paper,top=1in,bottom=1in,left=1in,right=1in]{geometry}

% use multiple languages
\input{polyglot.tex}

%% ---- math packages ---- %%
% \usepackage{amsmath}
% \usepackage{amssymb}
\usepackage{bm} % same functionality as \mathbf{} but for greek letters
% \usepackage{derivative} % macros for typesetting derivatives
\numberwithin{equation}{section} % equation numbers are formatted as <#Section>.<#eq in the section>

%% ---- define math environment ---- %%
% \usepackage{amsthm}
% \newtheorem{definition}{Definition}[section]
% \newtheorem{proposition}[definition]{Proposition}
% \newtheorem{theorem}[definition]{Theorem}
% \newtheorem{corollary}{Corollary}[definition]
% \newtheorem{remark}{Remark}[definition]
% \newtheorem{lemma}[definition]{Lemma}

%% ---- hyperref settings ---- %%
% \usepackage{hyperref}
% \usepackage{url}
% \usepackage{cite}
% \usepackage{xcolor}
\hypersetup{
	colorlinks,
	linkcolor={red!50!black},
	citecolor={green!50!black},
	urlcolor={blue!80!black}
}

%% ---- misc. packages ---- %%
\usepackage{enumitem} % allow customizing list environments: enumerate, itemize and description.
\usepackage{mhchem} % use chemistry notation
\usepackage{lipsum}
\usepackage{metalogo} % for extended LaTeX logo such as XeTeX
\usepackage{subcaption} % allowing subfigure environment
% \usepackage[section]{placeins} % ensure floats do not go into the next section and allow the use of \FloatBarrier
\usepackage{graphicx} % allow cropping and rotating images
\usepackage{tikzit}
\input{nodes.tikzstyles}

%% -------- bibliography -------- %%
\usepackage[style=alphabetic, backend=biber]{biblatex}
\addbibresource{bibliography.bib}

%% ---- title, authors, and dates ---- %%
\usepackage{authblk}
\title{Template for multilingual typesetting using \LuaTeX}
\author{Aiden Sintavanuruk \\ (ชนกนันท์ สินธวานุรักษ์, 馬予棟)}
\address{Department of Mathematics, University of Pennsylvania, Philadelphia PA, 19104, USA}
% \author[1]{Aiden Sintavanuruk \\ (ชนกนันท์ สินธวานุรักษ์, 馬予棟)}
% \affil[1]{Department of Physiology, Faculty of Medicine Siriraj Hospital, Mahidol University}
% \author[2,3]{XXXX XXXX}
% \affil[2]{Department of XXXX, XXXX University}
% \affil[3]{Department of XXXX, XXXX University}
\date{\today}

\input{babelpatterns.tex}

\begin{document}
% \sloppy % ช่วยตัดคำภาษาไทย
% \begin{otherlanguage}{english}
\maketitle
\begin{abstract}
	\textsf{This} document use \texttt{babel} and \texttt{luatexja} packages to provide multilingual typesetting in Thai, Chinese and Japanese.
	ฟอนต์ภาษาไทย \texttt{Laksaman} เป็นของโครงการ TLWG (Thai Linux Working Group) \cite{noauthor_tlwgfonts-tlwg_2024} ที่คล้ายกับ \texttt{TH SarabunPSK} \textsf{ที่ใช้สำหรับการจัดทำเอกสารใน MS Word}
\end{abstract}
% \end{otherlanguage}

\section{Alphabatic scripts}
Alphabatic scripts, e.g., Thai, Devanagari, Arabic, Cyrillic, etc., can be used simultaneously by using \texttt{babel} package.
To ease writing experience, \texttt{onchar=fonts id} option can be used when declaring \texttt{\textbackslash babelprovide} to automate the language environment switching.
Note that for some reason, we also need \texttt{main} option when declaring Thai language; otherwise, it will mess with the spacing when writing a Thai paragraph.

Here is some random equation:
\begin{equation}\label{eq:eq1}
	f^{(n)}(z_0)=\frac{n!}{2\pi i}\oint_C \frac{f(z)}{(z-z_0)^{n+1}}\,dz.
\end{equation}

Test \textsf{test ทดสอบ} ทดสอบ \cite{guardia_categoriacal_2018}


\subsection{ภาษาไทย}
\begin{onehalfspace}
	ในย่อหน้าที่\textbf{ภาษาไทย}เป็นหลักควรตั้งระยะห่างระหว่างบรรทัดด้วยคำสั่ง \texttt{\textbackslash onehalfspacing} หรือเรียก environment ชื่อ \texttt{onehalfspace}
\end{onehalfspace}

\begin{onehalfspace}
	คอรัปชันจุ๊ยโปรดิวเซอร์ สถาปัตย์จ๊าบ แจ็กพ็อต ม้าหินอ่อน ซากุระคันถธุระ ฟีดสตาร์ท งี้ บอยคอตอิ่มแปร้สังโฆคำสาปแฟนซี ศิลปวัฒนธรรมไฟลท์จิ๊กโก๋กับดัก $(x+y)^2$ เจลพล็อตมาม่าซากุระดีลเลอร์ ซีนดัมพ์ แฮปปี้ เอ๊าะอุรังคธาตุซิม ฟินิกซ์เทรลเล่อร์อวอร์ด แคนยอนสมาพันธ์ ครัวซองฮัมอาข่าเอ็กซ์เพรส

	คอรัปชันจุ๊ยโปรดิวเซอร์ สถาปัตย์จ๊าบ \textit{แจ็กพ็อต} \textbf{ม้าหินอ่อน} abcd ccddeeff \texttt{ซากุระคันถธุระ} ฟีดสตาร์ท งี้ บอยคอตอิ่มแปร้สังโฆคำสาปแฟนซี 哈羅~ศิลปวัฒนธรรม \textsf{ไฟลท์จิ๊กโก๋กับดัก} เจลพล็อตมาม่าซากุระดีลเลอร์ ซีนดัมพ์ แฮปปี้ เอ๊าะอุรังคธาตุซิม ฟินิกซ์เทรลเล่อร์อวอร์ด แคนยอนสมาพันธ์ ครัวซองฮัมอาข่าเอ็กซ์เพรส
\end{onehalfspace}


\section{CJK scripts using \texttt{xeCJK}}
Here, we use \texttt{UKai TW} and \texttt{Source Han} fonts.
\subsection{繁體字}
兩個黃鸝\textsf{鳴翠柳，} \textbf{一行白鷺上青天。}
\texttt{窗含西嶺千秋雪，}\textit{東吳萬里船。}

{%\CJKfontspec{Noto Serif CJK JP}
	\subsection{日本語}
	秋来ぬと、
	目にはさやかに\texttt{見えねども}、
	\textbf{風の音にぞおどろかれぬる。}
	目にはさやかに\textsf{見えねども}、
	\textit{風の音にぞおどろかれぬる。}
}

% \subsection{韓語}
% 오늘이오늘이소서매일이오늘이소서
% 저물지도새지도말으시고
% 새려면늘언제나오늘이소서

\printbibliography

\end{document}
